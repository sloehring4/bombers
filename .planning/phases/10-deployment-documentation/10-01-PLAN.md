---
phase: 10-deployment-documentation
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - docs/OPERATIONS_GUIDE.md
  - README.md
autonomous: true

must_haves:
  truths:
    - "Board member can find step-by-step Vercel deployment instructions"
    - "Board member can find DNS configuration steps for custom domain"
    - "Board member can find rollback instructions when something goes wrong"
    - "Board member can find escalation contacts when issues exceed the guide"
    - "README links to both Content Update Guide and Operations Guide"
  artifacts:
    - path: "docs/OPERATIONS_GUIDE.md"
      provides: "Deployment, domain, troubleshooting, and escalation documentation"
      min_lines: 300
    - path: "README.md"
      provides: "Project overview with links to documentation"
      min_lines: 30
  key_links:
    - from: "docs/OPERATIONS_GUIDE.md"
      to: "docs/CONTENT-UPDATE-GUIDE.md"
      via: "Cross-reference link"
      pattern: "CONTENT-UPDATE-GUIDE"
    - from: "README.md"
      to: "docs/OPERATIONS_GUIDE.md"
      via: "Documentation link"
      pattern: "OPERATIONS_GUIDE"
    - from: "README.md"
      to: "docs/CONTENT-UPDATE-GUIDE.md"
      via: "Documentation link"
      pattern: "CONTENT-UPDATE-GUIDE"
---

<objective>
Create the Operations Guide for non-technical board members covering Vercel deployment, custom domain setup, troubleshooting, rollback procedures, and escalation paths. Update README.md to serve as the project landing page with links to all documentation.

Purpose: Board members need clear, non-technical documentation to understand how the site deploys, how to verify deployments, how to handle problems, and who to contact for help. This complements Phase 9's Content Update Guide (which covers JSON editing) with operational knowledge.

Output: docs/OPERATIONS_GUIDE.md, updated README.md
</objective>

<execution_context>
@C:/Users/sloeh/.claude/get-shit-done/workflows/execute-plan.md
@C:/Users/sloeh/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/10-deployment-documentation/10-RESEARCH.md
@.planning/phases/10-deployment-documentation/10-CONTEXT.md
@.planning/phases/09-content-management-system/09-03-SUMMARY.md
@docs/CONTENT-UPDATE-GUIDE.md
@README.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create Operations Guide</name>
  <files>docs/OPERATIONS_GUIDE.md</files>
  <action>
Create docs/OPERATIONS_GUIDE.md — a comprehensive operations guide for non-technical board members (parents/coaches with no dev experience). This guide covers everything EXCEPT JSON content editing (which is in docs/CONTENT-UPDATE-GUIDE.md).

Structure the guide with these sections:

**1. Welcome / What This Guide Covers**
- Brief intro: this guide covers deployment, troubleshooting, and operations
- Link to CONTENT-UPDATE-GUIDE.md for JSON editing instructions
- Who this guide is for (board members, site owner)

**2. How the Website Works (High-Level)**
- Simple explanation: Edit JSON in GitHub -> Create PR -> CI validates -> Merge -> Site auto-deploys
- Diagram or numbered flow showing the pipeline
- Explain that this is automatic — no manual deployment needed
- Mention preview deployments: every PR gets a preview URL to check before merging

**3. Initial Deployment Setup (Site Owner Only)**
One-time setup steps for the site owner:

a) **Create Vercel Account & Import Project**
- Go to vercel.com, sign up with GitHub account
- Click "Add New..." -> Project -> Import Git Repository
- Select the bombers repository
- Vercel auto-detects Next.js — click Deploy
- First deployment completes, project is created
- Note: recommend public repository (no secrets in code, simpler, free tier friendly)

b) **Add Custom Domain**
- In Vercel project: Settings -> Domains -> Add Domain
- Enter: ofallonbombers.com
- Add www.ofallonbombers.com when prompted (recommended)
- Vercel displays DNS records needed

c) **Update DNS Records**
- Log into domain registrar (wherever ofallonbombers.com was purchased)
- IMPORTANT: Before changing anything, screenshot/save current DNS records as backup
- For apex domain (ofallonbombers.com): Add A record pointing to 76.76.21.21
- For www subdomain: Add CNAME record pointing to cname.vercel-dns.com
- Remove old A/CNAME records pointing to JerseyWatch
- WARNING: Keep MX records and TXT records unchanged (these handle email)
- Wait for DNS propagation (5 minutes to 48 hours, typically 1-4 hours)
- Check status: Vercel dashboard shows green checkmark when verified
- SSL certificate auto-provisions within minutes of DNS propagation

d) **Add Board Members as GitHub Collaborators**
- Go to repository Settings -> Collaborators
- Click "Add people" for each board member
- Enter their GitHub username or email
- Board member accepts invitation via email
- They now have write access to edit JSON files

**4. Checking Deployment Status**
For board members (no Vercel dashboard access):
- After merging a PR, wait 2-3 minutes
- Visit https://ofallonbombers.com to verify changes
- Green checkmark on the merge commit in GitHub = successful deploy
- Red X = build failed (see Troubleshooting)

For site owner (Vercel dashboard access):
- Log into Vercel dashboard -> select project -> Deployments tab
- See all deployments with status: Building, Ready, Error
- Click any deployment for build logs

**5. Preview Deployments**
- Every PR automatically gets a preview URL
- Vercel bot comments on the PR with the preview link
- Preview URL looks like: ofallonbombers-git-branch-name.vercel.app
- Production URL is always: ofallonbombers.com
- IMPORTANT: Preview is only for YOU to check — it's not the live site
- After verifying preview looks good, merge the PR to deploy to production

**6. Rollback (When Something Goes Wrong)**
If a bad change goes live:

For site owner (Vercel dashboard):
- Log into Vercel dashboard
- Click "Instant Rollback" on the production deployment tile
- Select previous deployment -> Confirm
- Site instantly reverts (no rebuild needed)
- IMPORTANT: After rollback, auto-deployment is DISABLED
- To re-enable: click "Undo Rollback" after fixing the issue
- Free tier limitation: can only rollback to immediately previous deployment

Alternative for any board member (GitHub):
- Create a new PR that reverts the bad JSON change
- Or fix the JSON and create a new PR with the correction
- Merge the fix PR -> site auto-deploys with the correction

**7. Troubleshooting**
Cover these scenarios with plain language and step-by-step fixes:

a) "I merged a PR but the site hasn't updated"
- Wait 2-3 minutes (builds take time)
- Check GitHub commit for green checkmark vs red X
- If red X: build failed, check CI validation results on the PR
- If green checkmark but no update: try hard refresh (Ctrl+Shift+R)
- If still not updated and rollback was done previously: auto-deploy may be disabled (site owner needs to "Undo Rollback" in Vercel)

b) "The site is showing an error page"
- Don't panic — site owner can rollback instantly via Vercel
- Contact site owner for immediate rollback
- Then investigate the bad change and fix it

c) "DNS was changed but site still shows old content"
- DNS propagation takes 5 min to 48 hours (typically 1-4 hours)
- Check with nslookup ofallonbombers.com (should show 76.76.21.21)
- Or use https://dnschecker.org to check global propagation
- Don't keep changing DNS records — wait it out

d) "I can't find the repository in GitHub"
- Check email for collaborator invitation — must accept it first
- Bookmark the repository URL directly
- Contact site owner if invitation expired (they can re-send)

e) "Build is failing after my changes"
- Check the PR for red X and CI validation messages
- Phase 9's validation catches most JSON errors
- Common causes: missing comma, mismatched brackets, invalid field values
- See CONTENT-UPDATE-GUIDE.md troubleshooting section for JSON fixes

f) "I need to rollback further than one deployment"
- Free tier only supports rollback to immediately previous deployment
- Workaround: fix forward by correcting the JSON and merging a new PR
- Or: site owner can redeploy a specific past commit from Vercel Deployments tab

g) "The site is down / not loading at all"
- Check https://vercel-status.com for Vercel platform outages
- If Vercel is up, contact site owner
- Escalate to technical contact if site owner is unavailable

**8. Who to Contact (Escalation Path)**
Tiered escalation:
1. First: Try the troubleshooting section above
2. Second: Contact site owner — [SITE_OWNER_NAME] at [SITE_OWNER_EMAIL]
3. Third: Contact technical support — [TECHNICAL_CONTACT] at [TECHNICAL_CONTACT_EMAIL], phone [TECHNICAL_CONTACT_PHONE]
4. Urgent (site completely down): Call [TECHNICAL_CONTACT_PHONE] directly

When asking for help, include:
- What you were trying to do
- What happened instead
- The PR URL (if applicable)
- Any error messages you see

**9. Quick Reference**
Summary table of common tasks with who can do them:
| Task | Who | Where |
|------|-----|-------|
| Edit content (JSON) | Any board member | GitHub web editor (see Content Update Guide) |
| Check deployment status | Any board member | GitHub commit checks |
| Preview changes | Any board member | PR preview URL |
| Rollback bad deployment | Site owner | Vercel dashboard |
| Fix bad content | Any board member | New PR with corrected JSON |
| Add/remove collaborators | Site owner | GitHub Settings |
| Domain/DNS changes | Site owner | Domain registrar + Vercel |
| Vercel account issues | Site owner | Vercel dashboard |

Use the same writing style as CONTENT-UPDATE-GUIDE.md:
- Plain language, no jargon (define technical terms inline when unavoidable)
- Numbered steps for all procedures
- Bold for UI elements ("Click **Deploy**")
- WARNING callouts for destructive or confusing operations
- Use [SITE_OWNER_NAME], [SITE_OWNER_EMAIL], [TECHNICAL_CONTACT], [TECHNICAL_CONTACT_EMAIL], [TECHNICAL_CONTACT_PHONE] placeholders consistently
- Use [SCREENSHOT: description] placeholders for future visual documentation
- Do NOT duplicate JSON editing instructions (link to CONTENT-UPDATE-GUIDE.md instead)
  </action>
  <verify>
Verify the file exists with 300+ lines:
- wc -l docs/OPERATIONS_GUIDE.md (should be 300+)
- Verify sections exist: grep for "Initial Deployment", "Custom Domain", "Rollback", "Troubleshooting", "Escalation" or "Who to Contact"
- Verify cross-reference: grep for "CONTENT-UPDATE-GUIDE" in the file
- Verify placeholders: grep for "TECHNICAL_CONTACT" and "SITE_OWNER"
  </verify>
  <done>Operations guide covers deployment setup, domain configuration, preview deployments, rollback, 7+ troubleshooting scenarios, and escalation path. Uses plain language with consistent placeholder pattern. Links to Content Update Guide without duplicating it.</done>
</task>

<task type="auto">
  <name>Task 2: Update README with project info and documentation links</name>
  <files>README.md</files>
  <action>
Replace the default create-next-app README.md with a project-specific README for the O'Fallon Bombers website. Structure:

**O'Fallon Bombers Baseball Website**
Brief description: Clean, modern website for the O'Fallon Bombers select youth baseball club (ages 7U-15U). Built with Next.js and hosted on Vercel.

**For Board Members**
Link to the two guides:
- [Content Update Guide](docs/CONTENT-UPDATE-GUIDE.md) — How to edit rosters, events, fees, and all site content
- [Operations Guide](docs/OPERATIONS_GUIDE.md) — Deployment, troubleshooting, rollback, and who to contact

**Tech Stack**
- Next.js 16 (static export)
- Tailwind CSS v4
- TypeScript
- Zod validation for JSON data
- Vercel hosting (auto-deploy on push to main)

**Development**
```bash
npm install
npm run dev        # Start dev server at http://localhost:3000
npm run build      # Build static site
npm run validate:data  # Validate JSON data files
```

**Project Structure** (brief, just the key directories)
- src/app/ — Pages and routes
- src/components/ — Reusable UI components
- src/lib/data/ — JSON data files (editable by board members)
- src/lib/schemas/ — Zod validation schemas
- docs/ — Guides for board members
- scripts/ — Validation scripts

**Content Workflow**
Brief summary: Edit JSON -> Create PR -> CI validates -> Merge -> Auto-deploys.
"See the Content Update Guide for detailed instructions."

Keep it concise (30-60 lines). This is a landing page for the repo, not documentation.
  </action>
  <verify>
Verify README.md exists and contains links:
- grep for "CONTENT-UPDATE-GUIDE" in README.md
- grep for "OPERATIONS_GUIDE" in README.md
- grep for "Board Members" in README.md
  </verify>
  <done>README.md is project-specific with links to both guides, tech stack info, dev commands, and project structure overview. Serves as the entry point for anyone visiting the repository.</done>
</task>

</tasks>

<verification>
1. docs/OPERATIONS_GUIDE.md exists with 300+ lines covering deployment, domain, rollback, troubleshooting, escalation
2. README.md is project-specific with links to both documentation guides
3. Operations guide cross-references Content Update Guide without duplicating JSON editing content
4. Both files use consistent placeholder patterns ([TECHNICAL_CONTACT], [SITE_OWNER_NAME], etc.)
</verification>

<success_criteria>
- A non-technical board member reading the Operations Guide can understand how the site deploys
- A site owner can follow the guide to set up Vercel, configure the custom domain, and add collaborators
- A board member can find rollback and troubleshooting steps when something goes wrong
- README.md clearly directs visitors to the appropriate guide
</success_criteria>

<output>
After completion, create `.planning/phases/10-deployment-documentation/10-01-SUMMARY.md`
</output>
