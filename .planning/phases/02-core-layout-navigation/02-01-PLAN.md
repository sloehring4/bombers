---
phase: 02-core-layout-navigation
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - src/lib/navigation.ts
  - src/components/layout/Header.tsx
  - src/components/layout/NavLinks.tsx
  - src/components/layout/MobileMenu.tsx
autonomous: true

must_haves:
  truths:
    - "Navigation config defines ~7 core pages with href and label"
    - "Desktop navigation links render horizontally, hidden on mobile"
    - "Mobile hamburger button appears only below 768px (md breakpoint)"
    - "Mobile menu opens/closes on button tap and closes on link click"
    - "Active page is visually highlighted in both desktop and mobile navigation"
    - "Hamburger button has proper aria-label and aria-expanded attributes"
  artifacts:
    - path: "src/lib/navigation.ts"
      provides: "Shared navigation link configuration"
      exports: ["navLinks"]
    - path: "src/components/layout/Header.tsx"
      provides: "Site-wide header with logo, desktop nav, mobile menu"
    - path: "src/components/layout/NavLinks.tsx"
      provides: "Client Component for desktop navigation with active state"
      contains: "use client"
    - path: "src/components/layout/MobileMenu.tsx"
      provides: "Client Component for mobile hamburger menu"
      contains: "use client"
  key_links:
    - from: "src/components/layout/NavLinks.tsx"
      to: "next/navigation"
      via: "usePathname hook for active link detection"
      pattern: "usePathname"
    - from: "src/components/layout/MobileMenu.tsx"
      to: "next/navigation"
      via: "usePathname hook for active link detection"
      pattern: "usePathname"
    - from: "src/components/layout/Header.tsx"
      to: "src/lib/navigation.ts"
      via: "imports navLinks array"
      pattern: "import.*navLinks.*navigation"
---

<objective>
Create the site header with responsive navigation: desktop horizontal links and mobile hamburger menu. Both use shared navigation config and highlight the active page.

Purpose: The header is the primary navigation element appearing on every page, enabling parents to quickly find teams, fees, spirit wear, and contact info.
Output: Header.tsx (Server Component), NavLinks.tsx (Client Component), MobileMenu.tsx (Client Component), navigation.ts (shared config)
</objective>

<execution_context>
@C:/Users/sloeh/.claude/get-shit-done/workflows/execute-plan.md
@C:/Users/sloeh/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/01-foundation-setup/01-01-SUMMARY.md
@src/app/globals.css
@src/app/layout.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Install clsx and create navigation config</name>
  <files>
    package.json
    src/lib/navigation.ts
  </files>
  <action>
1. Install clsx for conditional class names:
   ```bash
   pnpm add clsx
   ```

2. Create `src/lib/navigation.ts` with shared navigation config:
   - Export a `navLinks` array with objects containing `href` and `label`
   - Pages in this order: Home (/), Teams (/teams), About (/about), Fees & Events (/fees), Spirit Wear (/spirit-wear), Contact (/contact)
   - Use `as const` for type safety
   - Export the `NavLink` type: `{ href: string; label: string }`
  </action>
  <verify>Check that `pnpm list clsx` shows clsx installed. Check that `src/lib/navigation.ts` exports `navLinks` array with 6 entries.</verify>
  <done>clsx is in dependencies. navigation.ts exports typed navLinks array with 6 pages in specified order.</done>
</task>

<task type="auto">
  <name>Task 2: Create Header with desktop NavLinks and mobile MobileMenu</name>
  <files>
    src/components/layout/Header.tsx
    src/components/layout/NavLinks.tsx
    src/components/layout/MobileMenu.tsx
  </files>
  <action>
1. Create `src/components/layout/NavLinks.tsx` — Client Component:
   - Mark with `'use client'` at top
   - Accept `links` prop typed as `Array<{ href: string; label: string }>`
   - Use `usePathname()` from `next/navigation` to get current path
   - Use `clsx` for conditional class names
   - Render a `<nav>` with `className="hidden md:flex md:items-center md:gap-6"` (hidden on mobile, flex row on desktop)
   - Map over links rendering `<Link>` from `next/link`
   - Active state: Compare `pathname === link.href` — active links get `text-bombers-yellow font-semibold` with a 2px bottom border (using `border-b-2 border-bombers-yellow pb-1`), inactive links get `text-navy-700 hover:text-bombers-yellow transition-colors`
   - All links use `text-sm font-medium`

2. Create `src/components/layout/MobileMenu.tsx` — Client Component:
   - Mark with `'use client'` at top
   - Accept `links` prop typed as `Array<{ href: string; label: string }>`
   - Use `useState` for `isOpen` toggle, `usePathname()` for active state
   - Outer wrapper: `className="md:hidden"` (only visible below 768px per user decision)
   - Hamburger button: `<button>` with `aria-label="Toggle menu"` and `aria-expanded={isOpen}`
     - Icon: SVG 24x24, show 3 horizontal lines when closed (M4 6h16M4 12h16M4 18h16), show X when open (M6 18L18 6M6 6l12 12)
     - Button styling: `p-2 text-navy-700 hover:text-bombers-yellow transition-colors`
   - Mobile menu panel: render conditionally when `isOpen` is true
     - Position: `absolute left-0 right-0 top-full bg-white shadow-lg border-t border-navy-100 z-20`
     - Render links as `<Link>` in a vertical `flex flex-col`
     - Each link: `px-6 py-3 text-sm font-medium border-b border-navy-50`
     - Active link: `bg-yellow-50 text-bombers-yellow font-semibold`, inactive: `text-navy-700 hover:bg-navy-50`
     - onClick on each link: `() => setIsOpen(false)` to close menu after navigation

3. Create `src/components/layout/Header.tsx` — Server Component (NO 'use client'):
   - Import `Link` from `next/link`, `Image` from `next/image`
   - Import `NavLinks` from `./NavLinks`, `MobileMenu` from `./MobileMenu`
   - Import `navLinks` from `@/lib/navigation`
   - Render `<header>` with sticky positioning: `sticky top-0 z-20 bg-white border-b border-navy-100`
   - Inner container: `mx-auto flex max-w-7xl items-center justify-between px-4 py-3`
   - Left side: Logo as `<Link href="/">` wrapping `<Image>` with `src="/logo-placeholder.svg"`, `alt="O'Fallon Bombers"`, `width={150}`, `height={50}`, `priority` prop, `className="h-10 w-auto"`
   - Right side: `<NavLinks links={navLinks} />` and `<MobileMenu links={navLinks} />`
   - The header wrapper must have `relative` positioning so the mobile menu's `absolute` positioning anchors to it

**Design decisions (Claude's discretion):**
- Sticky header (stays visible on scroll) for quick navigation access
- Logo left-aligned, nav right-aligned (standard pattern)
- No CTA button in header (keep it clean, nav links are sufficient)
- White background with subtle bottom border for clean appearance
- Mobile menu slides down from header (overlay-style dropdown)
  </action>
  <verify>Run `pnpm build` — must complete without errors. Verify NavLinks.tsx contains 'use client' and usePathname. Verify MobileMenu.tsx contains 'use client', useState, aria-label, aria-expanded. Verify Header.tsx does NOT contain 'use client'. Verify Header.tsx imports navLinks from navigation config.</verify>
  <done>Header.tsx renders as Server Component with logo, NavLinks (desktop, hidden on mobile), and MobileMenu (mobile only, hidden on desktop). NavLinks highlights active page via usePathname. MobileMenu toggles open/close, closes on link click, has proper ARIA attributes. Build succeeds.</done>
</task>

</tasks>

<verification>
1. `pnpm build` completes without errors
2. `src/lib/navigation.ts` exports navLinks with 6 entries
3. `src/components/layout/NavLinks.tsx` is a Client Component with usePathname
4. `src/components/layout/MobileMenu.tsx` is a Client Component with useState and ARIA attributes
5. `src/components/layout/Header.tsx` is a Server Component importing NavLinks, MobileMenu, and navLinks
6. clsx is installed in package.json dependencies
</verification>

<success_criteria>
- Header component exists with logo, desktop nav, and mobile menu
- Desktop nav visible only at md breakpoint (768px) and above
- Mobile hamburger visible only below md breakpoint
- Active page highlighted in both desktop and mobile views
- Mobile menu closes on link click
- Accessible hamburger button with aria-label and aria-expanded
- Static build succeeds with no errors
</success_criteria>

<output>
After completion, create `.planning/phases/02-core-layout-navigation/02-01-SUMMARY.md`
</output>
